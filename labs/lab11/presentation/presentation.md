---
## Front matter
lang: ru-RU
title: Отчёт по лабораторной работе №11
author: Кабанова Варвара Дмитриевна
institute: РУДН, Москва, Россия

date: 25 Мая 2022

## Formatting
toc: false
slide_level: 2
theme: metropolis
header-includes: 
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
aspectratio: 43
section-titles: true
---

# Цель работы

Изучение основ программирования в оболочке ОС UNIX. Обучение написанию более сложных командных файлов с использованием логических управляющих конструкций и циклов.

# Команды getopts grep

Написала командный файл, который анализирует командную строку с ключами: 
1. -iinputfile—прочитать данные из указанного файла; 
2. -ooutputfile—вывести данные в указанный файл; 
3. -p шаблон —указать шаблон для поиска; 
4. -C—различать большие и малые буквы; 
5. -n—выдавать номера строк,а затем ищет в указанном файле нужные строки, определяемые ключом –p. 

# Файл prog1.sh

Для  данной  задачи  я  создала  файл prog1.sh и  написала соответствующие скрипты 

Проверила работу написанного скрипта, используя различные опции (например, команда «./prog.sh–Ia1.txt–oa2.txt–pcapital–C-n»), предварительно добавив право на исполнение файла (команда «chmod+xprog1.sh») и  создав  2  файла,  которые  необходимы  для  выполнения программы: a1.txt и a2.txt (рис.4-7). Скрипт работает корректно. 

# Файлы chslo.c и chslo.sh

Написала на языке Си программу, которая вводит число и определяет, является  ли  оно  больше  нуля,  меньше  нуля  или  равно  нулю.  Затем программа  завершается  с  помощью  функции exit(n),  передавая информацию в о коде завершения в оболочку. Командный файл должен вызывать  эту  программу  и,  проанализировав  с  помощью  команды  $?, выдать сообщение о том, какое число было введено. 

Для  данной  задачи  я  создала  2  файла: chslo.c и chslo.sh и написала соответствующие скрипты. (команды «touch prog2.sh» и «emacs &») 

Проверила работу написанных скриптов (команда «./chslo.sh»), предварительно добавив право на исполнение файла (команда «chmod+x chslo.sh»). Скрипты работают корректно. 

# Файл files.sh

Написала командный файл, создающий  указанное  число  файлов, пронумерованных  последовательно  от  1  до N (например  1.tmp,  2.tmp, 3.tmp,4.tmpи т.д.). Число файлов, которые необходимо создать, передаётся в аргументы командной строки. Этот же командный файл должен уметь удалять все созданные им файлы (если они существуют). Для данной задачи я создала файл: files.sh и  написала соответствующий скрипт (рис.13).

Далее  я  проверила  работу  написанного  скрипта  (команда «./files.sh»), предварительно добавив право на исполнение файла (команда «chmod+x files.sh»). Сначала я создала три файла (команда «./files.sh–cabc#.txt3»), удовлетворяющие условию задачи, а потом удалила их (команда «./files.sh–rabc#.txt3») 

# Файл prog4.sh

Написала командный файл, который с помощью команды tar запаковывает в архив все файлы в указанной директории. Модифицировала его так, чтобы запаковывались только те файлы, которые были изменены менее недели тому назад (использовать команду find). Для данной задачи я создала файл: prog4.sh и  написала соответствующий скрипт 

Далее я проверила работу написанного скрипта (команды «./prog4.sh» и «tar-tf Catalog1.tar»), предварительно добавив  право  на  исполнение файла  (команда «chmod +x prog4.sh») и создав отдельный Catalog1  с несколькими файлами.Скрипт работает корректно.

## {.standout}

В ходе выполнения данной лабораторной работы я изучила основы программирования в оболочке ОС UNIX/Linux и научилась писать небольшие командные файлы.

